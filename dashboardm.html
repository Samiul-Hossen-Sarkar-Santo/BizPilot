<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIZPILOT | Model Dashboard</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <style>
        .sidebar {
            transition: all 0.3s ease;
        }
        .chart-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        .model-card {
            transition: all 0.2s ease;
        }
        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .checklist-item {
            transition: all 0.2s ease;
        }
        .checklist-item:hover {
            background: rgba(59, 130, 246, 0.05);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans" id="vanta-bg">
    <!-- Sidebar -->
    <div class="flex h-screen overflow-hidden">
        <div class="sidebar bg-white w-64 border-r border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <div class="flex items-center space-x-2">
                    <i data-feather="bar-chart-2" class="text-blue-500"></i>
                    <h1 class="text-xl font-bold text-gray-800">BIZPILOT</h1>
                </div>
            </div>
            <nav class="flex-1 p-4 space-y-2">
                <a href="#" class="flex items-center space-x-2 p-2 rounded-lg bg-blue-50 text-blue-600">
                    <i data-feather="home"></i>
                    <span>Dashboard</span>
                </a>
                
                <a href="#" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 text-gray-700">
                    <i data-feather="settings"></i>
                    <span>Settings</span>
                </a>
                <a href="#" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 text-gray-700">
                    <i data-feather="users"></i>
                    <span>Team</span>
                </a>
            </nav>
            <div class="p-4 border-t border-gray-200">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white">
                        <i data-feather="user"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium">John Doe</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 overflow-auto">
            <header class="bg-white border-b border-gray-200 p-4">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-semibold text-gray-800">Model Dashboard</h2>
                    <div class="flex space-x-2">
                        <button class="p-2 rounded-lg hover:bg-gray-100">
                            <i data-feather="bell"></i>
                        </button>
                        <button class="p-2 rounded-lg hover:bg-gray-100">
                            <i data-feather="help-circle"></i>
                        </button>
                    </div>
                </div>
            </header>

            <main class="p-6 space-y-6">
                <!-- Model Selection Cards -->
                <section>
                    <h3 class="text-lg font-medium text-gray-800 mb-4">Select Business Model</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="model-card bg-white p-4 rounded-xl shadow-md cursor-pointer border border-transparent hover:border-blue-300" onclick="selectModel('startup')">
                            <div class="flex items-center space-x-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                    <i data-feather="zap"></i>
                                </div>
                                <h4 class="font-medium">Startup Growth</h4>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Optimized for early-stage companies with rapid growth targets</p>
                            <div class="flex justify-between text-xs text-gray-500">
                                <span>Last used: 2 days ago</span>
                                <span>12 tasks</span>
                            </div>
                        </div>
                        <div class="model-card bg-white p-4 rounded-xl shadow-md cursor-pointer border border-transparent hover:border-green-300" onclick="selectModel('enterprise')">
                            <div class="flex items-center space-x-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600">
                                    <i data-feather="briefcase"></i>
                                </div>
                                <h4 class="font-medium">Enterprise Scale</h4>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">For established businesses focusing on operational efficiency</p>
                            <div class="flex justify-between text-xs text-gray-500">
                                <span>Last used: 1 week ago</span>
                                <span>18 tasks</span>
                            </div>
                        </div>
                        <div class="model-card bg-white p-4 rounded-xl shadow-md cursor-pointer border border-transparent hover:border-purple-300" onclick="selectModel('saas')">
                            <div class="flex items-center space-x-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-600">
                                    <i data-feather="cloud"></i>
                                </div>
                                <h4 class="font-medium">SaaS Business</h4>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Subscription-based revenue model with churn analysis</p>
                            <div class="flex justify-between text-xs text-gray-500">
                                <span>Last used: 3 days ago</span>
                                <span>15 tasks</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Charts Section -->
                <section class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Revenue Curve -->
                    <div class="chart-container p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-medium text-gray-800">Revenue Projection</h3>
                            <div class="flex space-x-2">
                                <button class="text-xs p-1 px-2 rounded bg-gray-100">Monthly</button>
                                <button class="text-xs p-1 px-2 rounded hover:bg-gray-100">Quarterly</button>
                                <button class="text-xs p-1 px-2 rounded hover:bg-gray-100">Yearly</button>
                            </div>
                        </div>
                        <canvas id="revenueChart" height="250"></canvas>
                    </div>

                    <!-- Cost Breakdown -->
                    <div class="chart-container p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-medium text-gray-800">Cost Structure</h3>
                            <div class="flex space-x-2">
                                <button class="text-xs p-1 px-2 rounded bg-gray-100">Current</button>
                                <button class="text-xs p-1 px-2 rounded hover:bg-gray-100">Projected</button>
                            </div>
                        </div>
                        <canvas id="costChart" height="250"></canvas>
                    </div>
                </section>

                <!-- Model Comparison -->
                <section>
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-medium text-gray-800">Model Comparison</h3>
                        <button class="text-sm text-blue-600 hover:text-blue-800 flex items-center">
                            <i data-feather="plus" class="mr-1 w-4 h-4"></i> Add Model
                        </button>
                    </div>
                    <div class="bg-white rounded-xl shadow-md overflow-hidden">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Metric</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Startup</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Enterprise</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SaaS</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ROI (1Y)</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">42%</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">18%</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">35%</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Break-even</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">18 months</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6 months</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12 months</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Customer LTV</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$1,200</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$8,500</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$3,800</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">CAC</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$450</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$1,200</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$800</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Task Checklist -->
                <section id="taskSection" class="hidden">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-medium text-gray-800">Implementation Checklist</h3>
                        <div class="flex space-x-2">
                            <button class="text-sm text-blue-600 hover:text-blue-800 flex items-center">
                                <i data-feather="download" class="mr-1 w-4 h-4"></i> Export
                            </button>
                            <button onclick="generateTasks()" class="text-sm text-green-600 hover:text-green-800 flex items-center">
                                <i data-feather="refresh-cw" class="mr-1 w-4 h-4"></i> Generate Tasks
                            </button>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md overflow-hidden">
                        <div id="checklistItems" class="divide-y divide-gray-200">
                            <!-- Auto-generated tasks will appear here -->
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        // Initialize Vanta.js background
        VANTA.NET({
            el: "#vanta-bg",
            color: 0x3b82f6,
            backgroundColor: 0xf8fafc,
            points: 12,
            maxDistance: 20,
            spacing: 15
        });

        // Initialize AOS
        AOS.init();

        // Initialize charts
        document.addEventListener('DOMContentLoaded', function() {
            // Revenue Line Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            const revenueChart = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Projected Revenue',
                        data: [12000, 19000, 15000, 22000, 25000, 30000, 35000, 40000, 45000, 50000, 55000, 60000],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.05)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Actual Revenue',
                        data: [10000, 15000, 18000, 20000, 22000, 28000, 30000, 35000, 38000, 42000, 45000, 48000],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.05)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });

            // Cost Pie Chart
            const costCtx = document.getElementById('costChart').getContext('2d');
            const costChart = new Chart(costCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Personnel', 'Marketing', 'Operations', 'Technology', 'Facilities', 'Misc'],
                    datasets: [{
                        data: [35, 25, 15, 12, 8, 5],
                        backgroundColor: [
                            '#3b82f6',
                            '#10b981',
                            '#f59e0b',
                            '#8b5cf6',
                            '#ec4899',
                            '#64748b'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ${percentage}% ($${(value * 1000).toLocaleString()})`;
                                }
                            }
                        }
                    },
                    cutout: '65%'
                }
            });
        });

        // Model selection function
        function selectModel(model) {
            const taskSection = document.getElementById('taskSection');
            taskSection.classList.remove('hidden');
            generateTasks(model);
        }

        // Auto-generate tasks based on model
        function generateTasks(model = null) {
            const checklistItems = document.getElementById('checklistItems');
            checklistItems.innerHTML = '';
            
            // Default to last selected model if none provided
            if (!model) model = document.querySelector('.model-card.border-blue-300, .model-card.border-green-300, .model-card.border-purple-300')?.getAttribute('onclick')?.match(/'(\w+)'/)?.[1] || 'startup';
            
            // Task templates for each model
            const taskTemplates = {
                startup: [
                    'Market research: Identify target demographics',
                    'Competitor analysis report',
                    'MVP feature prioritization',
                    'Initial funding strategy',
                    'Hiring plan for first 6 months',
                    'Customer validation interviews',
                    'Brand identity development',
                    'Go-to-market strategy',
                    'Key metric dashboard setup',
                    'Investor outreach list'
                ],
                enterprise: [
                    'Operational efficiency audit',
                    'Department budget reviews',
                    'Employee training needs assessment',
                    'Technology stack evaluation',
                    'Vendor contract renegotiation',
                    'Customer satisfaction survey',
                    'Process automation opportunities',
                    'Leadership development program',
                    'Risk management assessment',
                    'Sustainability initiatives'
                ],
                saas: [
                    'Subscription pricing model analysis',
                    'Customer onboarding flow design',
                    'Churn reduction strategies',
                    'Feature release roadmap',
                    'Customer support scaling plan',
                    'Usage analytics implementation',
                    'Referral program development',
                    'Upsell/cross-sell opportunities',
                    'API documentation improvements',
                    'Community building initiatives'
                ]
            };

            // Generate 5-8 random tasks from template
            const tasks = [];
            const template = taskTemplates[model];
            const count = Math.floor(Math.random() * 4) + 5; // 5-8 tasks
            
            while (tasks.length < count) {
                const randomIndex = Math.floor(Math.random() * template.length);
                const task = template[randomIndex];
                if (!tasks.includes(task)) {
                    tasks.push({
                        name: task,
                        completed: Math.random() > 0.7 // 30% chance of being completed
                    });
                }
            }

            // Add tasks to checklist
            tasks.forEach(task => {
                const item = document.createElement('div');
                item.className = 'checklist-item p-4 flex items-center hover:bg-gray-50';
                
                item.innerHTML = `
                    <div class="flex items-center flex-1">
                        <input type="checkbox" ${task.completed ? 'checked' : ''} 
                               class="h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mr-3"
                               onchange="this.nextElementSibling.classList.toggle('line-through text-gray-400')">
                        <span class="${task.completed ? 'line-through text-gray-400' : 'text-gray-700'}">${task.name}</span>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600">
                        <i data-feather="more-vertical" class="w-4 h-4"></i>
                    </button>
                `;
                
                checklistItems.appendChild(item);
            });

            // Scroll to checklist if not already visible
            if (document.getElementById('taskSection').classList.contains('hidden')) {
                document.getElementById('taskSection').scrollIntoView({ behavior: 'smooth' });
            }
            
            feather.replace();
        }
        
        // Initialize with some default tasks
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-select first model and generate tasks
            document.querySelector('.model-card').click();
            
            // Initialize feather icons
            feather.replace();
        });
    </script>
</body>
</html>
